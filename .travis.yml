language: node_js

node_js:
  - '12'

env:
  global:
    - TIMEOUT_MULTIPLIER=8
    
install:
  - npm ci

script:
  - npm test
  - npm audit
  - npm run coveralls
  - rm -rf node_modules
  - npm ci --only=production
  - ./test/smoke-test.sh
  - ./test/entity-test.sh
  - ./test/joi-test.sh
  

